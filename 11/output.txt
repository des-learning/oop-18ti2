IMPORT JAVA.IO.IOEXCEPTION;
IMPORT JAVA.IO.FILE;
IMPORT JAVA.NIO.FILE.FILES;
IMPORT JAVA.NIO.FILE.STANDARDOPENOPTION;
IMPORT JAVA.UTIL.STREAM.COLLECTORS;
IMPORT JAVA.UTIL.STREAM.STREAM;
IMPORT JAVA.UTIL.LIST;

PUBLIC CLASS TEXTUPPER {
	PUBLIC STATIC LIST<STRING> ALLLINESTOUPPERCASE(STREAM<STRING> SL) {
		RETURN SL.MAP((STRING L) -> {
			RETURN L.TOUPPERCASE();
		}).COLLECT(COLLECTORS.TOLIST());
	}
	PUBLIC STATIC VOID CONVERTTOUPPERCASE(
			STRING INFILE,
			STRING OUTFILE) THROWS IOEXCEPTION,
		   						   SECURITYEXCEPTION,
								   EXCEPTION {
			STREAM<STRING> INLINES = FILES.LINES((NEW FILE(INFILE)).TOPATH());

			FILES.WRITE((NEW FILE(OUTFILE)).TOPATH(),
					ALLLINESTOUPPERCASE(INLINES), 
					STANDARDOPENOPTION.CREATE,
					STANDARDOPENOPTION.WRITE);
	}
	PUBLIC STATIC VOID MAIN(STRING []ARGS) {
		IF (ARGS.LENGTH < 2) {
			SYSTEM.ERR.PRINTLN("JAVA TEXTUPPER INFILE OUTFILE");
			SYSTEM.EXIT(1);
		}
		TRY {
			CONVERTTOUPPERCASE(ARGS[0], ARGS[1]);
		} CATCH(IOEXCEPTION E) {
		} CATCH(SECURITYEXCEPTION E) {
		} CATCH(EXCEPTION E) {
		}
	}
}
